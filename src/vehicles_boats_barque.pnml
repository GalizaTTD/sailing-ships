/*
#    GalizaTTD Sailing ships and other boats -  Copyright (C) 2022  Pablo Villaverde Castro
#    This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
#    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
#	 You should have received a copy of the GNU General Public License along with this program.  If not, see <https://github.com/pvillaverde/openttd-spanish-railsets/blob/main/LICENSE>.
*/
/*Barque*/
/*first, define spritesets to be referenced by spritegroups */

spriteset(spriteset_barque_default_running_empty, "src/gfx/barque/default_running_empty.png") {
    //left_x, upper_y, width, height, offset_x, offset_y
	[ 5,	5,	27,	71,	-14,	-48 ]
	[ 40,	5,	69,	61,	-57,	-23 ]
	[ 120,	5,	82,	55,	-35,	-40 ]
	[ 210,	5,	74,	61,	-12,	-30 ]
	[ 290,	5,	25,	70,	-12,	-45 ]
	[ 320,	5,	70,	62,	-58,	-28 ]
	[ 400,	5,	85,	55,	-42,	-40 ]
	[ 490,	5,	69,	64,	-15,	-25 ]
}

spriteset(spriteset_barque_default_still_empty, "src/gfx/barque/default_still_empty.png"){
	
	[ 5,	5,	27,	71,	-14,	-48 ]
	[ 40,	5,	69,	61,	-57,	-23 ]
	[ 120,	5,	82,	55,	-35,	-40 ]
	[ 210,	5,	74,	61,	-12,	-30 ]
	[ 290,	5,	25,	70,	-12,	-45 ]
	[ 320,	5,	70,	62,	-58,	-28 ]
	[ 400,	5,	85,	55,	-42,	-40 ]
	[ 490,	5,	69,	64,	-15,	-25 ]
}

spriteset(spriteset_barque_default_running_full, "src/gfx/barque/default_running_full.png"){
	
	[ 5,	5,	27,	71,	-14,	-47 ]
	[ 40,	5,	69,	61,	-57,	-22 ]
	[ 120,	5,	82,	55,	-35,	-39 ]
	[ 210,	5,	74,	61,	-12,	-29 ]
	[ 290,	5,	25,	70,	-12,	-44 ]
	[ 320,	5,	70,	62,	-58,	-27 ]
	[ 400,	5,	85,	55,	-42,	-39 ]
	[ 490,	5,	69,	64,	-15,	-24 ]
}

spriteset(spriteset_barque_default_still_full, "src/gfx/barque/default_still_full.png"){
	
	[ 5,	5,	27,	71,	-14,	-47 ]
	[ 40,	5,	69,	61,	-57,	-22 ]
	[ 120,	5,	82,	55,	-35,	-39 ]
	[ 210,	5,	74,	61,	-12,	-29 ]
	[ 290,	5,	25,	70,	-12,	-44 ]
	[ 320,	5,	70,	62,	-58,	-27 ]
	[ 400,	5,	85,	55,	-42,	-39 ]
	[ 490,	5,	69,	64,	-15,	-24 ]

}

spriteset(spriteset_barque_bulk_running_empty, "src/gfx/barque/bulk_running_empty.png") {
    //left_x, upper_y, width, height, offset_x, offset_y
	[ 5,	5,	27,	71,	-14,	-48 ]
	[ 40,	5,	69,	61,	-57,	-23 ]
	[ 120,	5,	82,	55,	-35,	-40 ]
	[ 210,	5,	74,	61,	-12,	-30 ]
	[ 290,	5,	25,	70,	-12,	-45 ]
	[ 320,	5,	70,	62,	-58,	-28 ]
	[ 400,	5,	85,	55,	-42,	-40 ]
	[ 490,	5,	69,	64,	-15,	-25 ]
}

spriteset(spriteset_barque_bulk_still_empty, "src/gfx/barque/bulk_still_empty.png"){
	
	[ 5,	5,	27,	71,	-14,	-48 ]
	[ 40,	5,	69,	61,	-57,	-23 ]
	[ 120,	5,	82,	55,	-35,	-40 ]
	[ 210,	5,	74,	61,	-12,	-30 ]
	[ 290,	5,	25,	70,	-12,	-45 ]
	[ 320,	5,	70,	62,	-58,	-28 ]
	[ 400,	5,	85,	55,	-42,	-40 ]
	[ 490,	5,	69,	64,	-15,	-25 ]
}

spriteset(spriteset_barque_bulk_running_full, "src/gfx/barque/bulk_running_full.png"){
	
	[ 5,	5,	27,	71,	-14,	-47 ]
	[ 40,	5,	69,	61,	-57,	-22 ]
	[ 120,	5,	82,	55,	-35,	-39 ]
	[ 210,	5,	74,	61,	-12,	-29 ]
	[ 290,	5,	25,	70,	-12,	-44 ]
	[ 320,	5,	70,	62,	-58,	-27 ]
	[ 400,	5,	85,	55,	-42,	-39 ]
	[ 490,	5,	69,	64,	-15,	-24 ]
}

spriteset(spriteset_barque_bulk_still_full, "src/gfx/barque/bulk_still_full.png"){
	
	[ 5,	5,	27,	71,	-14,	-47 ]
	[ 40,	5,	69,	61,	-57,	-22 ]
	[ 120,	5,	82,	55,	-35,	-39 ]
	[ 210,	5,	74,	61,	-12,	-29 ]
	[ 290,	5,	25,	70,	-12,	-44 ]
	[ 320,	5,	70,	62,	-58,	-27 ]
	[ 400,	5,	85,	55,	-42,	-39 ]
	[ 490,	5,	69,	64,	-15,	-24 ]

}

spriteset(spriteset_barque_pass_running_empty, "src/gfx/barque/pass_running_empty.png") {
    //left_x, upper_y, width, height, offset_x, offset_y
	[ 5,	5,	27,	71,	-14,	-48 ]
	[ 40,	5,	69,	61,	-57,	-23 ]
	[ 120,	5,	82,	55,	-35,	-40 ]
	[ 210,	5,	74,	61,	-12,	-30 ]
	[ 290,	5,	25,	70,	-12,	-45 ]
	[ 320,	5,	70,	62,	-58,	-28 ]
	[ 400,	5,	85,	55,	-42,	-40 ]
	[ 490,	5,	69,	64,	-15,	-25 ]
}

spriteset(spriteset_barque_pass_still_empty, "src/gfx/barque/pass_still_empty.png"){
	
	[ 5,	5,	27,	71,	-14,	-48 ]
	[ 40,	5,	69,	61,	-57,	-23 ]
	[ 120,	5,	82,	55,	-35,	-40 ]
	[ 210,	5,	74,	61,	-12,	-30 ]
	[ 290,	5,	25,	70,	-12,	-45 ]
	[ 320,	5,	70,	62,	-58,	-28 ]
	[ 400,	5,	85,	55,	-42,	-40 ]
	[ 490,	5,	69,	64,	-15,	-25 ]
}

spriteset(spriteset_barque_pass_running_full, "src/gfx/barque/pass_running_full.png"){
	
	[ 5,	5,	27,	71,	-14,	-47 ]
	[ 40,	5,	69,	61,	-57,	-22 ]
	[ 120,	5,	82,	55,	-35,	-39 ]
	[ 210,	5,	74,	61,	-12,	-29 ]
	[ 290,	5,	25,	70,	-12,	-44 ]
	[ 320,	5,	70,	62,	-58,	-27 ]
	[ 400,	5,	85,	55,	-42,	-39 ]
	[ 490,	5,	69,	64,	-15,	-24 ]
}

spriteset(spriteset_barque_pass_still_full, "src/gfx/barque/pass_still_full.png"){
	
	[ 5,	5,	27,	71,	-14,	-47 ]
	[ 40,	5,	69,	61,	-57,	-22 ]
	[ 120,	5,	82,	55,	-35,	-39 ]
	[ 210,	5,	74,	61,	-12,	-29 ]
	[ 290,	5,	25,	70,	-12,	-44 ]
	[ 320,	5,	70,	62,	-58,	-27 ]
	[ 400,	5,	85,	55,	-42,	-39 ]
	[ 490,	5,	69,	64,	-15,	-24 ]

}

spriteset(spriteset_barque_buymenu,"src/gfx/barque/default_still_empty.png"){
/*	[ 400,	64,	65,	16,	-100,	-10 ]*/
	[ 400,	64,	65,	16,	-33,	-10 ]
}

spriteset(spriteset_barque_prev,"src/gfx/barque/default_still_empty.png"){
	[ 400,	64,	65,	16,	-33,	-10 ]
}

spriteset(spriteset_barque_default_depot,"src/gfx/barque/default_still_empty.png"){
/*	[ 400,	64,	65,	16,	-100,	-10 ]*/
	[ 400,	64,	65,	16,	-33,	-10 ]
}

spriteset(spriteset_barque_bulk_depot,"src/gfx/barque/bulk_still_empty.png"){
/*	[ 400,	64,	65,	16,	-100,	-10 ]*/
	[ 400,	64,	65,	16,	-33,	-10 ]
}

spriteset(spriteset_barque_pass_depot,"src/gfx/barque/pass_still_empty.png"){
/*	[ 400,	64,	65,	16,	-100,	-10 ]*/
	[ 400,	64,	65,	16,	-33,	-10 ]
}
	
/*next define spritegroups for items*/

spritegroup spritegroup_barque_default_still{
	loading: [spriteset_barque_default_still_empty, spriteset_barque_default_still_full];
	loaded: [spriteset_barque_default_still_empty, spriteset_barque_default_still_full];
}

spritegroup spritegroup_barque_default_running{
	loading: [spriteset_barque_default_running_empty,spriteset_barque_default_running_full];
	loaded: [spriteset_barque_default_running_empty,spriteset_barque_default_running_full];
}

spritegroup spritegroup_barque_bulk_still{
	loading: [spriteset_barque_bulk_still_empty, spriteset_barque_bulk_still_full];
	loaded: [spriteset_barque_bulk_still_empty, spriteset_barque_bulk_still_full];
}

spritegroup spritegroup_barque_bulk_running{
	loading: [spriteset_barque_bulk_running_empty,spriteset_barque_bulk_running_full];
	loaded: [spriteset_barque_bulk_running_empty,spriteset_barque_bulk_running_full];
}

spritegroup spritegroup_barque_pass_still{
	loading: [spriteset_barque_pass_still_empty, spriteset_barque_pass_still_full];
	loaded: [spriteset_barque_pass_still_empty, spriteset_barque_pass_still_full];
}

spritegroup spritegroup_barque_pass_running{
	loading: [spriteset_barque_pass_running_empty,spriteset_barque_pass_running_full];
	loaded: [spriteset_barque_pass_running_empty,spriteset_barque_pass_running_full];
}


/*switches*/
 switch (FEAT_SHIPS, SELF , switch_barque_default_move, current_speed) {
 	0 :   spritegroup_barque_default_still; 
 	spritegroup_barque_default_running;       
 }

 switch (FEAT_SHIPS, SELF , switch_barque_bulk_move, current_speed) {
 	0 :   spritegroup_barque_bulk_still; 
 	spritegroup_barque_bulk_running;       
 }

 switch (FEAT_SHIPS, SELF , switch_barque_pass_move, current_speed) {
 	0 :   spritegroup_barque_pass_still; 
 	spritegroup_barque_pass_running;       
 }

 switch (FEAT_SHIPS, SELF , switch_barquecargo, cargo_type_in_veh) {
 	return 120;
 }

 switch (FEAT_SHIPS, SELF, switch_barque_default_depot,extra_callback_info1) {
	0x10 : spriteset_barque_default_depot;
	0x11 : spriteset_barque_default_depot;
	0x12 : spriteset_barque_default_depot;
	switch_barque_default_move;
}

 switch (FEAT_SHIPS, SELF, switch_barque_bulk_depot,extra_callback_info1) {
	0x10 : spriteset_barque_bulk_depot;
	0x11 : spriteset_barque_bulk_depot;
	0x12 : spriteset_barque_bulk_depot;
	switch_barque_bulk_move;
}

 switch (FEAT_SHIPS, SELF, switch_barque_pass_depot,extra_callback_info1) {
	0x10 : spriteset_barque_pass_depot;
	0x11 : spriteset_barque_pass_depot;
	0x12 : spriteset_barque_pass_depot;
	switch_barque_pass_move;
}

switch (FEAT_SHIPS, SELF, switch_barque_default_purchase,extra_callback_info1) {
	0x20 : spriteset_barque_buymenu;
	0x21 : spriteset_barque_prev;
	spriteset_barque_buymenu;
}
/*next define item properties*/

//common vehicle properties
item (FEAT_SHIPS , item_barque) {
	property {
		name : string(STR_BARQUE_NAME);
		climates_available : ALL_CLIMATES & ~bitmask(CLIMATE_TOYLAND);
		introduction_date : date(1740,09,01);
		reliability_decay : 8;
		model_life : 120;
		vehicle_life : 40;
		refittable_cargo_classes : ALL_NORMAL_CARGO_CLASSES;
		non_refittable_cargo_classes : bitmask(CC_PASSENGERS, CC_MAIL);
		loading_speed: 20;
		cost_factor : 82 / 2;
		running_cost_factor: 60;
		cargo_age_period: 370;

//ship specific properties

		sprite_id : SPRITE_ID_NEW_SHIP;
		speed : 20 km/h;
		ocean_speed_fraction: 1.0;
		canal_speed_fraction: 0.6;
		misc_flags : bitmask(SHIP_FLAG_2CC, SHIP_FLAG_AUTOREFIT);
		refit_cost : 0;
		is_refittable : 1;
		default_cargo_type : GOOD;
		cargo_capacity : 120;
		sound_effect : sound("src/wav/bell_barque.wav");
	}
	graphics {
		purchase: switch_barque_default_purchase;
		additional_text: string(STR_BARQUE_BUYMENU);
		cargo_capacity:switch_barquecargo;
		default: switch_barque_default_depot;
		PASS: switch_barque_pass_depot;
		COAL : switch_barque_bulk_depot;
		WOOD : switch_barque_bulk_depot;
		IORE : switch_barque_bulk_depot;
		WHEA : switch_barque_bulk_depot;
		MAIZ : switch_barque_bulk_depot;
		CORE : switch_barque_bulk_depot;
		AORE : switch_barque_bulk_depot;
		CERE : switch_barque_bulk_depot;
		CLAY : switch_barque_bulk_depot;
		COPR : switch_barque_bulk_depot;
		GRVL : switch_barque_bulk_depot;
		SAND : switch_barque_bulk_depot;
	}
}
